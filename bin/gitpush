#!/usr/local/bin/zsh
if [[ $(git diff --stat) != '' ]]; then
	git s -u
	echo 
	ask "Do you want to add, commit, and push?" "N"
	result=$?
	if [[ $result -eq 0 ]]; then
		echo "*** Add files ***"
		git aa
		printf "\n*** Commit files ***\n"
		gitmsg="${1:-updated}"
		git c -m "${gitmsg}"
		printf "\n*** Push files ***\n"
		git psom
		printf "\n*** Check Results ***\n"
		if [[ $(git diff --stat) = '' ]]; then
			echo "Working Tree is clean."
		else
			echo "Working Tree is dirty."
		fi
	else
		echo -e "\nDo Nothing\n"
	fi
else
	echo "Working Tree is clean."
fi
